{"version":3,"sources":["components/Header.js","utils/constants.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","components/App.js","index.js","images/logo.svg","images/delete.svg"],"names":["Header","className","src","logo","alt","baseUrl","api","headers","this","_headers","fetch","method","then","result","ok","json","Promise","reject","status","values","body","JSON","stringify","name","about","link","idCard","avatar","authorization","UserContext","React","createContext","Card","likes","owner","_id","onCardClick","onCardLike","onCardDelete","userInfo","isOpen","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","deleteButton","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardImageClick","cards","map","props","key","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","title","buttonText","onSubmit","children","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","defaultValue","required","autoComplete","id","placeholder","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","current","ref","AddPlacePopup","setTitle","setLink","DeletePopup","card","onDeleteCard","App","closeAllPopups","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","setSelectedCard","SetIsDeleteCardsPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isDeleteCardsPopupOpen","cohort","currentUser","setCurrentUser","getUserInfo","res","catch","console","error","setCards","handleAddPlaceSubmit","addCards","newCard","getInitialCards","data","deleteCard","setDeleteCard","Provider","disLikeCards","newCards","item","likeCards","setUserUnfo","changeAvatar","deletedCard","deleteCards","log","filter","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.02c0b2fd.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"здесь должен быть логотип :)\" className=\"header__logo\" />\n        </header>\n    );\n}\n\nexport default Header;\n","const headers = { \n    authorization: '296925be-8e2c-44ab-b32c-580bcbc5c9b5',\n    'Content-Type': 'application/json'\n};\n\nconst baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-13';\n\nexport {headers, baseUrl};","import {headers, baseUrl} from './constants.js';\n\nclass Api {\n    constructor(headers) {\n        this._headers = headers;\n    }\n\n    getInitialCards() {\n        return fetch(`${baseUrl}/cards`, {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    getUserInfo() {\n        return fetch(`${baseUrl}/users/me`, {\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(result => {   \n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    setUserUnfo(values) {\n        return fetch(`${baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: values.name,\n                about: values.about\n            })\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    addCards(values) {\n        return fetch(`${baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: values.name,\n                link: values.link\n            })\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    likeCards(idCard) {\n        return fetch(`${baseUrl}/cards/likes/${idCard}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    disLikeCards(idCard) {\n        return fetch(`${baseUrl}/cards/likes/${idCard}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    deleteCards(idCard) {\n        return fetch(`${baseUrl}/cards/${idCard}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n\n    changeAvatar(values) {\n        return fetch(`${baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n              avatar: values.avatar\n            })\n          })\n        .then(result => {\n            if (result.ok) {\n                return result.json();\n            } else {\n                return Promise.reject(`Ошибка: ${result.status}`);\n            }\n        })\n    }\n}\n\nconst api = new Api(headers);\n\nexport { api };","import React from 'react';  \n\nexport const UserContext = React.createContext();","import React from 'react';\nimport { useState } from 'react';\nimport deleteButton from '../images/delete.svg';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({ name, link, likes, owner, _id, onCardClick, onCardLike, onCardDelete, isOpen}) {\n\n    const userInfo = React.useContext(UserContext);\n    \n    \n\n    const isOwn = owner._id === userInfo._id;\n    const cardDeleteButtonClassName = (\n        `element__delete ${isOwn ? 'element__delete_visible' : 'element__delete_hidden'}`\n    );\n\n    const isLiked = likes.some(i => i._id === userInfo._id);\n    const cardLikeButtonClassName = (\n        `element__like ${isLiked ? `element__like_active` : ''}`\n    );\n\n    function handleClick() {\n        onCardClick({ name, link });\n    }\n\n    function handleLikeClick() {\n        onCardLike({ name, link, likes, owner, _id });\n    }\n\n    function handleDeleteClick() {\n        onCardDelete({ name, link, likes, owner, _id })\n    }\n\n    return (\n        <div className=\"element\">\n            <img src={deleteButton} alt=\"кнопка delete :)\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\n            <img alt=\"Упс, кажется вы вставили не рабочую ссылку\" className=\"element__photo\" src={link} onClick={handleClick} />\n            <div className=\"element__capture-container\">\n                <p className=\"element__capture\">{name}</p>\n                <div className=\"element__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n                    <p className=\"element__like-counter\">{likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport { useState } from 'react';\nimport { api } from '../utils/api.js';\nimport Card from './Card';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardImageClick, onCardDelete, onCardLike, cards}) {\n\n  const userInfo = React.useContext(UserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-wrapper\" onClick={onEditAvatar}>\n          <div className=\"profile__avatar-overlay\"></div>\n          <img alt=\"здесь должна быть аватарка :)\" className=\"profile__avatar\" src={userInfo.avatar} />\n        </div>\n        <div className=\"profile__info\">\n          <h2 className=\"profile__author\">{userInfo.name}</h2>\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile} />\n          <p className=\"profile__description\">{userInfo.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n      <section className=\"elements\">\n        {\n          cards.map(({ _id, ...props }) => <Card key={_id} _id={_id} \n            onCardClick={onCardImageClick} \n            onCardLike={onCardLike} \n            onCardDelete={onCardDelete} \n            {...props} />)\n        }\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__capture\">© 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup({ selectedCard, onClose }) {\n\n    let name = '';\n    let link = '';\n    if (selectedCard) {\n      name = selectedCard.name;\n      link = selectedCard.link;\n    }\n\n    return (\n        <div className={`popup popup_type_image ${selectedCard ? 'popup_opened' : ''}`} >\n            <figure className=\"popup__container-image\">\n                <img alt=\"здесь должна быть увеличенная картинка\" className=\"popup__image\" src={link} />\n                <figcaption className=\"popup__capture\">{name}</figcaption>\n                <button type=\"button\" className=\"popup__close-icon popup__close-icon_image\" onClick={onClose}/>\n            </figure>\n        </div>\n    );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, buttonText, onSubmit, children}) {\n    return (\n        <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <h2 className=\"popup__title\">{title}</h2>\n                <form action=\"#\" method=\"POST\" name=\"form\" className={`popup__form popup__form_${name}`} onSubmit={onSubmit} noValidate>\n                    {children}\n                    <button type=\"submit\" className={`popup__save-button popup__save-button_${name}`}>{buttonText}</button>\n                </form>\n                <button type=\"button\" className={`popup__close-icon popup__close-icon_${name}`} onClick={onClose} />\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\r\n    const userInfo = React.useContext(UserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(userInfo.name);\r\n        setDescription(userInfo.about);\r\n    }, [userInfo]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} buttonText={'Сохранить'} onSubmit={handleSubmit}>\r\n            <>\r\n                <input value={name || ''} onChange={handleChangeName} type=\"text\" name=\"name\" className=\"popup__form-input\" defaultValue=\"Жак-Ив Кусто\" required autoComplete=\"off\" id=\"name-input\" placeholder=\"Имя\" minLength={2} maxLength={40} pattern=\"[А-ЯЁа-яёA-Za-z-–—\\s]*\" />\r\n                <span id=\"name-input-error\" className=\"error\" />\r\n                <input value={description || ''} onChange={handleChangeDescription} type=\"text\" name=\"about\" className=\"popup__form-input\" defaultValue=\"Исследователь океана\" required autoComplete=\"off\" id=\"job-input\" placeholder=\"Род деятельности\" minLength={2} maxLength={200} />\r\n                <span id=\"job-input-error\" className=\"error\" />\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useRef } from 'react';\r\n\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    \r\n    const avatarInputRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateAvatar({\r\n          avatar: avatarInputRef.current.value\r\n        });\r\n        avatarInputRef.current.value = '';\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Изменить аватар\" isOpen={isOpen} onClose={onClose} buttonText={'Сохранить'} onSubmit={handleSubmit}>\r\n            <>\r\n                <input ref={avatarInputRef} type=\"url\" name=\"link\" id=\"avatar-input\" className=\"popup__form-input single-input\" required autoComplete=\"off\" placeholder=\"Вставьте ссылку\" minLength={2} />\r\n                <span id=\"avatar-input-error\" className=\"error\" />\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    \r\n    const [title, setTitle] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleChangeTitle(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onAddPlace({\r\n            name: title,\r\n            link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"card\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} buttonText={'Создать'} onSubmit={handleSubmit}>\r\n            <>\r\n                <input value={title} onChange={handleChangeTitle} type=\"text\" name=\"title\" className=\"popup__form-input\" required autoComplete=\"off\" id=\"title-input\" placeholder=\"Название\" minLength={1} maxLength={30} />\r\n                <span id=\"title-input-error\" className=\"error\" />\r\n                <input value={link} onChange={handleChangeLink} type=\"url\" name=\"link\" className=\"popup__form-input\" required autoComplete=\"off\" id=\"link-input\" placeholder=\"Ссылка на картинку\" />\r\n                <span id=\"link-input-error\" className=\"error\" />\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nfunction DeletePopup({ isOpen, onClose, card, onDeleteCard }) {\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onDeleteCard(card)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"delete-cards\" \r\n            title=\"Вы уверены?\" \r\n            isOpen={isOpen} \r\n            onClose={onClose} \r\n            buttonText={'Да'}\r\n            onSubmit={handleSubmit}>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DeletePopup;","import React from 'react';\nimport { useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePopup from './DeletePopup';\nimport { api } from '../utils/api.js';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n\n  function handleEditAvatarClick() { //открывает попап с аватаром\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() { //открывает попап с профилем\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() { //открывает попап с добавлением карточки\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardsClick() {\n    SetIsDeleteCardsPopupOpen(true);\n  }\n\n  function handleCardClick(card) { //открывает попап с увеличенной фотографией\n    setSelectedCard({\n      name: card.name,\n      link: card.link\n    });\n  }\n\n  function closeAllPopups() {  //закрывает все попапы\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n    SetIsDeleteCardsPopupOpen(false);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false); // хуки состояния для открытия//закрытия попапов\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(null); // хук состояния, запоминающий выбранную карточку, на фотографию которой нажали\n\n  const [currentUser, setCurrentUser] = useState({  // хук, содержащий информцию о пользователе\n    name: '',\n    about: '',\n    avatar: '',\n    _id: '',\n    cohort: ''\n  });\n  \n\n  React.useEffect(() => { // получение объекта с информацией о пользователе\n    api.getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(() => {\n        console.error('error');\n      })\n  }, [])\n\n  const [cards, setCards] = useState([]); // актуальный массив с карточками\n\n  React.useEffect(() => { //получение карточек с сервера\n    api.getInitialCards()\n      .then(data => {\n        setCards(data);\n      })\n      .catch(() => {\n        console.error('error');\n      })\n  }, [])\n\n  function handleAddPlaceSubmit(values) { //добавление новой карточки\n    api.addCards(values)\n      .then(newCard => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n  }\n  \n  function handleCardLike(props) {  //лайк/дизлайк карточки\n\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.likeCards(props._id)\n        .then((newCard) => {\n          const newCards = cards.map((item) => item._id === props._id ? newCard : item);\n          setCards(newCards);\n        })\n    } else {\n      api.disLikeCards(props._id)\n        .then((newCard) => {\n          const newCards = cards.map((item) => item._id === props._id ? newCard : item);\n          setCards(newCards);\n        })\n    }\n  }\n\n  const [deleteCard, setDeleteCard] = React.useState({})\n  \n  function handleCardDelete(props) { // удаление карточки\n    handleDeleteCardsClick();\n    setDeleteCard(props);\n  }\n\n  function deletedCard(deletedCard) { // удаление карточки\n    api.deleteCards(deletedCard._id)\n      .then(res => {\n        console.log(res);\n        const newCards = cards.filter(card => card._id != deletedCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      });\n  }\n\n  function handleUpdateUser(values) { // изменение информции пользователя\n    api.setUserUnfo(values)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateAvatar(values) { // изменение аватара\n    api.changeAvatar(values)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n  }\n\n  return (\n    <UserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <div className=\"page\">\n\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardImageClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n          <Footer />\n\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup selectedCard={selectedCard} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <DeletePopup isOpen={isDeleteCardsPopupOpen} onClose={closeAllPopups} card={deleteCard} onDeleteCard={deletedCard}/>\n\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.4220563a.svg\";"],"sourceRoot":""}